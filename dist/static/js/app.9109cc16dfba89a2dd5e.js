webpackJsonp([11],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r=n("Dd8w"),a=n.n(r),i=n("NYxO"),u={name:"App",methods:a()({},Object(i.b)({getUserInfo:"USER_INFO",getCateList:"CATE_LIST"})),mounted:function(){this.getUserInfo(),this.getCateList()}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("keep-alive",[t("router-view")],1)],1)},staticRenderFns:[]};var l=n("VU/8")(u,c,!1,function(e){n("fVdq")},null,null).exports,p=n("/ocq");o.default.use(p.a);var s,d,f=new p.a({routes:[{path:"/",name:"Login",component:function(){return n.e(1).then(n.bind(null,"P7ry"))}},{path:"/login",name:"Login",component:function(){return n.e(1).then(n.bind(null,"P7ry"))}},{path:"/page",name:"page",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"cpAg"))},children:[{path:"/index",name:"Index",component:function(){return n.e(4).then(n.bind(null,"eerB"))}},{path:"/courselist",name:"Courselist",component:function(){return n.e(6).then(n.bind(null,"JYqS"))}},{path:"/livelist",name:"livelist",component:function(){return n.e(7).then(n.bind(null,"c+AL"))}},{path:"/filelist",name:"filelist",component:function(){return n.e(5).then(n.bind(null,"3JcY"))}},{path:"/info",name:"Info",component:function(){return n.e(2).then(n.bind(null,"PdC8"))}}]},{path:"/pay",name:"Pay",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"JEPv"))}},{path:"/male",name:"Male",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"VMOD"))}}]}),m=n("bOdI"),g=n.n(m),h=n("VsUZ"),v=n("VKKs");o.default.use(i.a);var y=new i.a.Store({state:{userInfo:{user:{},ext_info:{},period:[]},cateList:[],Token:""},actions:(s={},g()(s,"USER_INFO",function(e,t){v.a.get("userToken").token&&h.a.getUserInfo().then(function(t){console.log(t),e.commit("USER_INFO",t)}).fail(function(t){e.commit("USER_INFO",t)})}),g()(s,"CATE_LIST",function(e,t){v.a.get("userToken").token&&h.a.getCategory().then(function(t){e.commit("CATE_LIST",t)})}),s),mutations:(d={},g()(d,"USER_INFO",function(e,t){e.userInfo=t}),g()(d,"CATE_LIST",function(e,t){var n=t.data;e.cateList=n}),d)}),j={setCookie:function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+r},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1);if(-1!=r.indexOf(t))return r.substring(t.length,r.length)}return""},clearCookie:function(e){this.setCookie(e,"",-1)}},b={install:function(e){e.mixin({data:function(){return{Token:this.$storage.get("userToken").token}},methods:{doLogout:function(){v.a.remove("userToken"),this.$router.go()},openNew:function(e){window.open(e)}}}),e.prototype.$storage=v.a,e.prototype.$cookie=j}},x=(n("OZHB"),n("dstz"),n("7t+N"),n("zL8q")),T=n.n(x);n("tvR6");o.default.use(T.a),o.default.config.productionTip=!1,f.beforeEach(function(e,t,n){var o=v.a.get("userToken").token;console.log(o),o?"/"===e.fullPath||"/login"===e.fullPath?n("/index"):n():"/"===e.fullPath||"/login"===e.fullPath?n():n("/login")}),o.default.prototype.$czapi=h.a,o.default.use(b),new o.default({el:"#app",router:f,store:y,components:{App:l},template:"<App/>"})},OZHB:function(e,t,n){"use strict";(function(e){var t,o=n("mvHQ"),r=n.n(o),a=n("pFYg"),i=n.n(a);t=function(e){function t(e){return i.raw?e:encodeURIComponent(e)}function n(e){return i.raw?e:decodeURIComponent(e)}function o(t,n){var o=i.raw?t:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),i.json?JSON.parse(e):e}catch(e){}}(t);return e.isFunction(n)?n(o):o}var a=/\+/g,i=e.cookie=function(a,u,c){if(void 0!==u&&!e.isFunction(u)){if("number"==typeof(c=e.extend({},i.defaults,c)).expires){var l=c.expires,p=c.expires=new Date;p.setTime(+p+864e5*l)}return document.cookie=[t(a),"=",function(e){return t(i.json?r()(e):String(e))}(u),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var s=a?void 0:{},d=document.cookie?document.cookie.split("; "):[],f=0,m=d.length;m>f;f++){var g=d[f].split("="),h=n(g.shift()),v=g.join("=");if(a&&a===h){s=o(v,u);break}a||void 0===(v=o(v))||(s[h]=v)}return s};i.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}},"function"==typeof define&&n("nErl")?define(["jquery"],t):t("object"==("undefined"==typeof exports?"undefined":i()(exports))?n("7t+N"):e)}).call(t,n("7t+N"))},VKKs:function(e,t,n){"use strict";var o=n("mvHQ"),r=n.n(o);t.a={get:function(e){return JSON.parse(window.localStorage[e]||"{}")},set:function(e,t){return window.localStorage[e]=r()(t)},remove:function(e){return window.localStorage.removeItem(e)}}},VsUZ:function(e,t,n){"use strict";(function(e){n("7+uW");var o=n("VKKs"),r=function(t,n,r){n=n||{};var a=e.Deferred();return e.ajax({url:"http://aci-api.chaozhiedu.com"+t,type:r||"post",data:n,headers:{},dataType:"json",beforeSend:function(e){if("/api/login"!=t&&"/api/phone-captcha"!=t){var n=o.a.get("userToken").token;n&&e.setRequestHeader("Token",n)}},success:function(e){if(e.code>=600&&e.code<700)return o.a.remove("userToken"),void(window.location.href="./index.html#/login");a.resolve(e)}}),a.promise()};t.a={uploadAction:"http://aci-api.chaozhiedu.com/api/file/upload",contentPath:"http://aci-api.chaozhiedu.com",getPhoneCaptcha:function(e){return r("/api/phone-captcha",e)},doLogin:function(e){return r("/api/login",e)},getUserInfo:function(e){return r("/api/user",e||{},"get")},addUserInfo:function(e){return r("/api/user",e)},submitUserInfo:function(e){return r("/api/user/submit",e)},getCourseList:function(e){return r("/api/course/list",e)},getCourseInfo:function(e){return r("/api/course/information",e)},getCoursePlan:function(e){return r("/api/course/plan",e)},fileUpload:function(e){return r("/api/file/upload",e)},getProductList:function(e){return r("/api/product/list",e)},getPayInfo:function(e){return r("/api/get-pay-info",e)},refreshPrice:function(e){return r("/api/pay/refresh-price/"+e.token,e,"get")},pay:function(e){return r("/api/pay",e)},getCategory:function(e){return r("/api/course/category",e,"get")},getPayResult:function(e){return r("/api/pay/result/"+e.token,e,"get")},paySingup:function(e){return r("/api/user/paysingup",e,"get")},getLiveList:function(e){return r("/api/userlive/list",e,"post")}}}).call(t,n("7t+N"))},dstz:function(module,exports,__webpack_require__){(function(jQuery,$){jQuery.extend({createUploadIframe:function(e,t){var n="jUploadFrame"+e;if(window.ActiveXObject){var o=document.createElement('<iframe id="'+n+'" name="'+n+'" />');"boolean"==typeof t?o.src="javascript:false":"string"==typeof t&&(o.src=t)}else{(o=document.createElement("iframe")).id=n,o.name=n}return o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",document.body.appendChild(o),o},createUploadForm:function(e,t,n){var o="jUploadForm"+e,r="jUploadFile"+e,a=$('<form  action="" method="POST" name="'+o+'" id="'+o+'" enctype="multipart/form-data"></form>');if(n)for(var i in n)"undefined"!==n[i].name&&null!=n[i].name&&"undefined"!==n[i].value&&null!=n[i].value?jQuery('<input type="hidden" name="'+n[i].name+'" value="'+n[i].value+'" />').appendTo(a):jQuery('<input type="hidden" name="'+i+'" value="'+n[i]+'" />').appendTo(a);var u=$("#"+t),c=$(u).clone();return $(u).attr("id",r),$(u).before(c),$(u).appendTo(a),$(a).css("position","absolute"),$(a).css("top","-1200px"),$(a).css("left","-1200px"),$(a).appendTo("body"),a},ajaxFileUpload:function(e){e=jQuery.extend({},jQuery.ajaxSettings,e);var t=(new Date).getTime(),n=jQuery.createUploadForm(t,e.fileElementId,void 0!==e.data&&e.data),o=(jQuery.createUploadIframe(t,e.secureuri),"jUploadFrame"+t),r="jUploadForm"+t;e.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var a=!1,i={};e.global&&jQuery.event.trigger("ajaxSend",[i,e]);var u=function(t){var r=document.getElementById(o);try{r.contentWindow?(i.responseText=r.contentWindow.document.body?r.contentWindow.document.body.innerHTML:null,i.responseXML=r.contentWindow.document.XMLDocument?r.contentWindow.document.XMLDocument:r.contentWindow.document):r.contentDocument&&(i.responseText=r.contentDocument.document.body?r.contentDocument.document.body.innerHTML:null,i.responseXML=r.contentDocument.document.XMLDocument?r.contentDocument.document.XMLDocument:r.contentDocument.document)}catch(t){jQuery.handleError(e,i,null,t)}if(i||"timeout"==t){var u;a=!0;try{if("error"!=(u="timeout"!=t?"success":"error")){var c=jQuery.uploadHttpData(i,e.dataType);e.success&&e.success(c,u),e.global&&jQuery.event.trigger("ajaxSuccess",[i,e])}else jQuery.handleError(e,i,u)}catch(t){u="error",jQuery.handleError(e,i,u,t)}e.global&&jQuery.event.trigger("ajaxComplete",[i,e]),e.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),e.complete&&e.complete(i,u),jQuery(r).unbind(),setTimeout(function(){try{$(r).remove(),$(n).remove()}catch(t){jQuery.handleError(e,i,null,t)}},100),i=null}};e.timeout>0&&setTimeout(function(){a||u("timeout")},e.timeout);try{n=$("#"+r);$(n).attr("action",e.url),$(n).attr("method","POST"),$(n).attr("target",o),n.encoding?n.encoding="multipart/form-data":n.enctype="multipart/form-data",$(n).submit()}catch(t){jQuery.handleError(e,i,null,t)}return window.attachEvent?document.getElementById(o).attachEvent("onload",u):document.getElementById(o).addEventListener("load",u,!1),{abort:function(){}}},uploadHttpData:function uploadHttpData(r,type){var data=!type;return data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&jQuery.globalEval(data),"json"==type&&eval("data = "+$("<div>"+data+"</div>").text()),"html"==type&&jQuery("<div>").html(data).evalScripts(),data}})}).call(exports,__webpack_require__("7t+N"),__webpack_require__("7t+N"))},fVdq:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9109cc16dfba89a2dd5e.js.map